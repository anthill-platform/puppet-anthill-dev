#
# MySQL server and its databases
#
# @option editor icon data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUwMCIgaGVpZ2h0PSIyNDYxIiB2aWV3Qm94PSIwIDAgMjU2IDI1MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij48cGF0aCBkPSJNMjM1LjY0OCAxOTQuMjEyYy0xMy45MTgtLjM0Ny0yNC43MDUgMS4wNDUtMzMuNzUyIDQuODcyLTIuNjEgMS4wNDMtNi43ODYgMS4wNDQtNy4xMzQgNC4zNSAxLjM5MiAxLjM5MiAxLjU2NiAzLjY1NCAyLjc4NCA1LjU2NyAyLjA5IDMuNDc5IDUuNzQxIDguMTc3IDkuMDQ3IDEwLjYxNCAzLjY1MyAyLjc4MyA3LjMwOCA1LjU2NiAxMS4xMzQgOC4wMDIgNi43ODYgNC4xNzYgMTQuNDQyIDYuNjExIDIxLjA1MyAxMC43ODcgMy44MjkgMi40MzQgNy42NTQgNS41NjggMTEuNDgyIDguMTc3IDEuOTE0IDEuMzkgMy4xMzEgMy42NTQgNS41NjggNC41MjN2LS41MjFjLTEuMjE5LTEuNTY3LTEuNTY3LTMuODI4LTIuNzg0LTUuNTY4LTEuNzM4LTEuNzQtMy40OC0zLjMwNi01LjIyLTUuMDQ2LTUuMDQ1LTYuNzg0LTExLjMwOC0xMi43LTE4LjA5My0xNy41NzEtNS41NjctMy44MjgtMTcuNzQ3LTkuMDQ3LTIwLjAwOC0xNS40ODUgMCAwLS4xNzUtLjE3My0uMzQ4LS4zNDcgMy44MjctLjM0OCA4LjM1LTEuNzQgMTIuMDA1LTIuNzg0IDUuOTE1LTEuNTY3IDExLjMwOC0xLjIxOCAxNy4zOTgtMi43ODQgMi43ODMtLjY5NiA1LjU2Ny0xLjU2NiA4LjM1LTIuNDM2di0xLjU2NWMtMy4xMy0zLjEzMi01LjM5Mi03LjMwNy04LjY5OC0xMC4yNjUtOC44NzMtNy42NTctMTguNjE3LTE1LjEzNy0yOC43MDctMjEuNC01LjM5NC0zLjQ4LTEyLjM1NC01Ljc0Mi0xOC4wOTUtOC42OTktMi4wODYtMS4wNDUtNS41NjctMS41NjYtNi43ODQtMy4zMDYtMy4xMzMtMy44MjctNC44NzMtOC44NzItNy4xMzQtMTMuMzk2LTUuMDQ0LTkuNTctOS45MTctMjAuMTgyLTE0LjI2Ny0zMC4yNzItMy4xMy02Ljc4Ni01LjA0NC0xMy41NzItOC44NzItMTkuODM0LTE3LjkyLTI5LjU3Ny0zNy40MDYtNDcuNDk3LTY3LjMzLTY1LjA3LTYuNDM4LTMuNjUzLTE0LjA5My01LjIxOS0yMi4yNy03LjEzMi00LjM0OC0uMTc1LTguNjk5LS41MjItMTMuMDQ4LS42OTctMi43ODQtMS4yMTgtNS41NjgtNC41MjMtOC4wMDQtNi4wODlDMzQuMDA2IDQuNTczIDguNDI5LTguOTk2IDEuMTIyIDguOTI0Yy00LjY5OCAxMS4zMDggNi45NiAyMi40NDIgMTAuOTYgMjguMTg1IDIuOTYgNC4wMDEgNi43ODYgOC41MjQgOC44NzQgMTMuMDQ4IDEuMjE4IDIuOTU2IDEuNTY1IDYuMDkgMi43ODMgOS4yMjEgMi43ODUgNy42NTMgNS4zOTMgMTYuMTggOS4wNDggMjMuMzE0IDEuOTE0IDMuNjUzIDQuMDAxIDcuNDggNi40MzcgMTAuNzg2IDEuMzkyIDEuOTEzIDMuODI3IDIuNzg0IDQuMzUgNS45MTUtMi40MzUgMy40OC0yLjYxIDguNy00LjAwMyAxMy4wNDktNi4yNjMgMTkuNjYtMy44MjYgNDQuMDE3IDUuMDQ2IDU4LjQ1NyAyLjc4MyA0LjM0OCA5LjM5NSAxMy45MiAxOC4yNjggMTAuMjY1IDcuODMtMy4xMzEgNi4wOS0xMy4wNDggOC4zNS0yMS43NDcuNTI0LTIuMDkuMTc2LTMuNDggMS4yMTktNC44NzJ2LjM0OWMyLjQzNiA0Ljg3IDQuODcxIDkuNTY5IDcuMTMzIDE0LjQ0IDUuMzk0IDguNTI0IDE0Ljc4OCAxNy4zOTggMjIuNjE3IDIzLjMxNCA0LjE3NyAzLjEzIDcuNDgyIDguNTI0IDEyLjcwMiAxMC40Mzh2LS41MjNoLS4zNDljLTEuMDQ0LTEuNTY2LTIuNjEtMi4yNjEtNC4wMDEtMy40OC0zLjEzMS0zLjEzLTYuNjEyLTYuOTU4LTkuMDQ3LTEwLjQzOC03LjMwNi05Ljc0NC0xMy43NDUtMjAuNTMtMTkuNDg2LTMxLjY2NS0yLjc4My01LjM5Mi01LjIyLTExLjMwOC03LjQ4MS0xNi43MDEtMS4wNDUtMi4wOS0xLjA0NS01LjIyLTIuNzg0LTYuMjYzLTIuNjEgMy44MjctNi40MzcgNy4xMzMtOC4zNTEgMTEuODMtMy4zMDQgNy40ODEtMy42NTMgMTYuNzAyLTQuODcxIDI2LjI3LS42OTYuMTc2LS4zNDkgMC0uNjk3LjM1LTUuNTY2LTEuMzk0LTcuNDgtNy4xMzQtOS41NjktMTIuMDA2LTUuMjItMTIuMzUyLTYuMDktMzIuMTg2LTEuNTY1LTQ2LjQ1MiAxLjIxOC0zLjY1NCA2LjQzOC0xNS4xMzYgNC4zNS0xOC42MTYtMS4wNDQtMy4zMDYtNC41MjUtNS4yMi02LjQzOC03LjgyOS0yLjI2MS0zLjMwNi00LjY5OC03LjQ4LTYuMjYzLTExLjEzNS00LjE3Ni05Ljc0My02LjI2NC0yMC41My0xMC43ODctMzAuMjczLTIuMDg4LTQuNTI0LTUuNzQtOS4yMi04LjY5OS0xMy4zOTYtMy4zMDUtNC42OTctNi45NTktOC4wMDQtOS41NjktMTMuNTcxLS44NjktMS45MTMtMi4wODgtNS4wNDUtLjY5Ni03LjEzMy4zNDgtMS4zOTIgMS4wNDMtMS45MTMgMi40MzYtMi4yNjEgMi4yNjItMS45MTUgOC43LjUyMSAxMC45NiAxLjU2NSA2LjQzOCAyLjYwOCAxMS44MzEgNS4wNDYgMTcuMjI1IDguNjk5IDIuNDM1IDEuNzQgNS4wNDUgNS4wNDYgOC4xNzYgNS45MTZoMy42NTRjNS41NjggMS4yMTcgMTEuODMuMzQ4IDE3LjA1IDEuOTEzIDkuMjIyIDIuOTU3IDE3LjU3MiA3LjMwNyAyNS4wNTQgMTIuMDA1IDIyLjc5MiAxNC40NCA0MS41OCAzNC45NyA1NC4yODIgNTkuNTAxIDIuMDg4IDQgMi45NTcgNy42NTYgNC44NzEgMTEuODMgMy42NTUgOC41MjYgOC4xNzggMTcuMjI1IDExLjgzIDI1LjU3NiAzLjY1NCA4LjE3NiA3LjEzMyAxNi41MjggMTIuMzUzIDIzLjMxNCAyLjYxIDMuNjUyIDEzLjA0OCA1LjU2NyAxNy43NDYgNy40ODEgMy40OCAxLjU2NSA4Ljg3NCAyLjk1OCAxMi4wMDUgNC44NzEgNS45MTUgMy42NTIgMTEuODMgNy44MyAxNy4zOTggMTEuODMgMi43ODQgMi4wODggMTEuNDgyIDYuNDM4IDEyLjAwNSA5LjkxN3oiIGZpbGw9IiMwMDU0NkIiLz48cGF0aCBkPSJNNTguMTg2IDQzLjAyMmMtMi45NTcgMC01LjA0NC4zNS03LjEzMi44NzF2LjM0OGguMzQ4YzEuMzkzIDIuNzg0IDMuODI3IDQuNjk4IDUuNTY2IDcuMTMzIDEuMzkzIDIuNzgzIDIuNjEgNS41NjggNC4wMDMgOC4zNTIuMTczLS4xNzUuMzQ3LS4zNDguMzQ3LS4zNDggMi40MzctMS43NDEgMy42NTQtNC41MjQgMy42NTQtOC43LTEuMDQ0LTEuMjE3LTEuMjE4LTIuNDM1LTIuMDg4LTMuNjUzLTEuMDQzLTEuNzQxLTMuMzA2LTIuNjEtNC42OTgtNC4wMDN6IiBmaWxsPSIjMDA1NDZCIi8+PC9zdmc+
#
class anthill::mysql (

  Boolean $export_location                  = true,
  String $export_location_name              = "mysql-${hostname}",

  String $listen_port                       = $anthill::mysql::params::listen_port,
  String $root_password                     = $anthill::mysql::params::root_password,
  String $username                          = $anthill::mysql::params::username,
  String $password                          = $anthill::mysql::params::password,

  String $mysql_package_name                = $anthill::mysql::params::mysql_package_name,
  String $mysql_package_version             = $anthill::mysql::params::mysql_package_version

) inherits anthill::mysql::params {

  anchor { 'anthill::mysql::begin': } ->

  class { '::anthill::mysql::apt': } ->
  class { '::anthill::mysql::install': } ->
  class { '::anthill::mysql::dbuser': } ->
  class { '::anthill::mysql::location': } ->
  class { '::anthill::mysql::databases': } ->

  anchor { 'anthill::mysql::end': }
}